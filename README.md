# Индивидуальная WordPress-тема для проекта "{NAME}"

## Структура проекта

```
├── backend/            # PHP функционал темы
├── gulp/               # 
├── assets/             # Статичные файлы темы и файлы для препроцессора
└── templates/          # Файлы шаблона темы
```

## Фронтэнд

- Для начала работы у вас должент быть установлен `Node.js` не ниже 16 версии
- Вся разработка ведётся в директории `assets/src`
- Итоговый код попадает в директорию `assets/build`
- В папке `assets/temp` помещается временный код ([подробности](frontend/assets/temp/README.md))

### Основные команды для работы

- `npm i` или `npm install` - установка сборки.
- `npm run dev` - запуск системы сборки и последующим слежением за изменением файлов + без улучшайзеров.
- `npm run once` - тоже самое, что и `dev`, только без слежения за изменением файлов.
- `npm run build` - запуск системы сборки без слежения за файлами, чтобы скомпилировать файлы для темы + запуск оптимизации картинок и другие улучшайзеры.

## Бэкенд

Используется упрощённая форма [архитекрурного шаблона Porto](https://github.com/dnsoftware/porto_ru).

Основной функционал (базовый, общий) хранится в папке `ship`, например "Фейкер", "Апгрейдер", различные базовые преднастройки темы (перемещаемые от проекта к проекту) и так далее.

В папке `containers` находится бизнес-логика, например "Проекты", "Профиль", "Формы" и так далее, определяющие работу сайта как приложения.

```
/ship/
├── ACF/                # Преднастройки плагина Advanced Custom Fields
├── Core/               # Основные преднастройки сайта
├── Faker/              # Модуль для генерации фейковых сущностей, например новостей
├── Upgrade/            # Модуль автоматического обновления параметров сайта
├── Other/              # Функционал, который нельзя распределить по модулям
└── … другие модули по необходимости
/containers/
├── Projects/           # CTP "Project" с сопутствующим функционалом
├── CTP_Projects/       # Или так
├── Profile/            # Страница "Profile" с сопутствующим функционалом
├── Page_Profile/       # Или так
├── Front_Page/         # Функционал главной страницы
└── … другие контейнеры (сущности) по необходимости
```



## WP CLI команды

Чтобы воспользоваться данными командами, у вас должен быть установлен [WP CLI](https://wp-kama.ru/handbook/wp-cli) на сервере.

### Удаление любых типов записей

```shell
# \CustomTheme\Faker\Main::delete_posts()
wp dev post delete <ctp_name> [--yes]
wp dev post delete project
wp dev post delete project --yes
```

### Создание json-файла группы полей ACF

```shell
# \CustomTheme\ACF\ACF::make_json()
wp dev acf make json  "Настройки одиночной новости" news_single_settings
```